(function(){"use strict";var t={9728:function(t,e,s){var r=s(9242),i=s(1020),o=s(3396),a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAYCAMAAACP1l7TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY4NTUxRjI1QjIzQTExRTZBN0QyQTk4MEVCRkI0MEQ2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY4NTUxRjI2QjIzQTExRTZBN0QyQTk4MEVCRkI0MEQ2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Njg1NTFGMjNCMjNBMTFFNkE3RDJBOTgwRUJGQjQwRDYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Njg1NTFGMjRCMjNBMTFFNkE3RDJBOTgwRUJGQjQwRDYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7QY7EKAAADAFBMVEVOUVK4mEfq7fPS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";const n={class:"header pl-5 mb-6"},l=(0,o._)("div",{id:"logo",class:"mb-2"},[(0,o._)("a",{href:"#",class:"logo"},"Bergtouren & Wanderungen"),(0,o._)("img",{src:a})],-1),u=(0,o._)("div",{class:"navgotop mr-4 mb-6"},[(0,o._)("a",{href:"#"},"Nach oben")],-1);function h(t,e,s,r,i,a){const h=(0,o.up)("router-link"),d=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",n,[l,(0,o._)("nav",null,[(0,o.Wm)(h,{to:"/"},{default:(0,o.w5)((()=>[(0,o.Uk)("HOME")])),_:1}),(0,o.Wm)(h,{to:"/tourlist"},{default:(0,o.w5)((()=>[(0,o.Uk)("ÜBERSICHT")])),_:1}),(0,o.Wm)(h,{to:"/search"},{default:(0,o.w5)((()=>[(0,o.Uk)("SUCHE")])),_:1})])]),(0,o.Wm)(d),u],64)}var d=s(4161);const c=(0,i.Q_)({id:"tours",state:()=>({tourlistData:[],filteredTourlist:[],firstPageItem:0,lastPageItem:0,totalItems:0,previousButton:!1,nextButton:!0,latestTours:[],routeOrigin:"",baseUrl:"http://wandern.cube-online.de/",tourFilterValue:"",activeDropdownPrev:-1}),getters:{getTourlistData:t=>t.tourlistData},actions:{async fetchTourlist(){try{0;const t=await d.Z.get(this.baseUrl+"contents/data.json");this.tourlistData=t.data.reverse()}catch(t){console.log(t)}},updateFirstPageItem(t){this.firstPageItem=t},updateLastPageItem(t){this.lastPageItem=t},updateTotalItems(t){this.totalItems=t},updateTourlist(t){this.filteredTourlist=t},updateLatestTours(t){this.latestTours=t},updateTourFilterValue(t){this.tourFilterValue=t},updateActiveDropdownPrev(t){this.activeDropdownPrev=t}}});var m={name:"App",components:{},provide(){return{baseUrl:"http://wandern.cube-online.de/",contentBaseUrl:"http://wandern.hanx.de/",basePathImages:"contents/fotos/",formatedDate(t){let e="";return"undefined"!==t&&(e+=t.toString().substring(6,8)+".",e+=t.toString().substring(4,6)+".",e+=t.toString().substring(0,4)),e},getImagePath(t,e){return this.contentBaseUrl+this.basePathImages+t.substring(0,4)+"/"+t+"/"+e+".jpg"}}},setup(){const t=c();return{storeTours:t}},created(){console.log("APP CREATED")},methods:{}},g=s(89);const p=(0,g.Z)(m,[["render",h]]);var I=p,T=s(2483),f=s(7139);const v=["src"],b={class:"opener mb-6"},P={class:"subheadline"},w={class:"country-region"},D=(0,o._)("h2",{class:"ml-5"},"Frühere Touren",-1),x={class:"mr-5 pl-5 pt-5 pb-1"};function L(t,e,s,r,i,a){const n=(0,o.up)("router-link"),l=(0,o.up)("TourListItem");return(0,o.wg)(),(0,o.iD)(o.HY,null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.tourlist.slice(0,1),(t=>((0,o.wg)(),(0,o.iD)("div",{key:t.id,class:"main-image-stage mt-5"},[(0,o.Wm)(n,{to:{name:"tour-page",params:{id:t.id}}},{default:(0,o.w5)((()=>[(0,o._)("img",{src:a.getImagePath(t.id,t.hauptbild),class:"main-image"},null,8,v)])),_:2},1032,["to"]),(0,o._)("div",b,[(0,o._)("div",P,[(0,o._)("span",w,(0,f.zw)(a.formatedDate(t.id))+" | "+(0,f.zw)(t.gebiet),1)]),(0,o.Wm)(n,{to:{name:"tour-page",params:{id:t.id}}},{default:(0,o.w5)((()=>[(0,o._)("h1",null,(0,f.zw)(t.titel),1)])),_:2},1032,["to"]),(0,o._)("p",null,(0,f.zw)(t.untertitel),1)])])))),128)),D,(0,o._)("ul",x,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.tourlist.slice(1,i.tourItemsLimit),(t=>((0,o.wg)(),(0,o.iD)("li",{key:t.id},[(0,o.Wm)(l,{tour:t,filteredTourList:i.tourlist},null,8,["tour","filteredTourList"])])))),128))])],64)}const _={class:"list-item mb-6"},k={class:"list-item-image mr-6"},y=["src"],z={class:"list-item-text"},C={class:"subheadline"};function U(t,e,s,i,a,n){return(0,o.wg)(),(0,o.iD)("div",_,[(0,o._)("div",k,[(0,o._)("a",{href:"#",onClick:e[0]||(e[0]=(0,r.iM)((t=>n.linkToRoute(s.tour.id)),["stop"])),id:"teaser-01"},[(0,o._)("img",{src:n.getImagePath(s.tour.id,s.tour.hauptbild),class:"teaser-image"},null,8,y)])]),(0,o._)("div",z,[(0,o._)("div",C,(0,f.zw)(n.formatedDate(s.tour.id))+" | "+(0,f.zw)(s.tour.gebiet),1),(0,o._)("a",{href:"#",onClick:e[1]||(e[1]=(0,r.iM)((t=>n.linkToRoute(s.tour.id)),["stop"]))},[(0,o._)("h2",null,(0,f.zw)(s.tour.titel),1)]),(0,o._)("p",null,(0,f.zw)(s.tour.untertitel),1)])])}s(7658);var B={name:"TourListItem",props:["tour","filteredTourList"],emits:["tour-id-changed"],inject:["baseUrl","contentBaseUrl","formatedDate"],setup(){const t=c();return{storeTours:t}},data(){return{basePathImages:"contents/fotos/"}},methods:{async linkToRoute(t){console.log("$router.push: ",t),console.log("linkToRoute - this.filteredTourList",this.filteredTourList.length);const e=this.$route.name;this.storeTours.updateTourlist(this.filteredTourList),await this.$router.push({name:"tour-page",params:{id:t}}),"tour-page"===e&&(console.log("emit tour-id-chamnged, because routeOrigin = ",e),this.$emit("tour-id-changed",t))},getImagePath(t,e){return this.contentBaseUrl+this.basePathImages+t.substring(0,4)+"/"+t+"/"+e+".jpg"}}};const j=(0,g.Z)(B,[["render",U]]);var R=j,F={name:"Home",components:{TourListItem:R},inject:["baseUrl","contentBaseUrl","basePathImages","formatedDate","getImagePath"],setup(){const t=c();return{storeTours:t}},data(){return{tourlist:[],filteredTourList:[],latestTours:[],tourItemsLimit:6}},methods:{getLatestTours(t){return t.reverse()}},created(){console.log("HOME CREATED = "),this.storeTours.fetchTourlist().then((()=>{this.tourlist=this.storeTours.tourlistData}))}};const A=(0,g.Z)(F,[["render",L]]);var Y=A;const E={class:"pagenav font-bigger pl-5 pr-5 mb-5"},S={key:0,class:"col col-right-big"},H={key:1,class:"col col-left-big"},N={key:0},O={class:"article-head pl-5 pr-5 mb-4"},W={class:"subheadline"},V={class:"main-image-stage"},Z={href:"#image_gallery"},M=["src"],J={class:"pl-5 pr-5 mt-5 mb-5 mt-dtp mb-dtp"},G=(0,o._)("td",null,"Datum",-1),Q=(0,o._)("td",null,"Höhe",-1),X=(0,o._)("td",null,"Dauer",-1),K=(0,o._)("td",null,"Höhendifferenz",-1),q=(0,o._)("td",null,"Distanz",-1),$=["innerHTML"],tt={class:"pl-5 pr-5 mb-5",id:"image_gallery"},et={class:"mb-3"},st={class:"gallery mt-5"},rt=["href"],it=["src"],ot=(0,o._)("h2",{class:"ml-5 mb-3"},"Siehe auch",-1),at={class:"box-related-tours mb-5 mr-5 ml-5"},nt={class:"mr-5 pl-5 pt-5 pb-1"};function lt(t,e,s,i,a,n){const l=(0,o.up)("TourListItem");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("article",null,[(0,o._)("div",E,[t.showButtonPrevPage?((0,o.wg)(),(0,o.iD)("div",S,[(0,o._)("a",{href:"#",onClick:e[0]||(e[0]=(0,r.iM)((e=>n.linkToRoute(t.previousPage)),["stop"]))},"<<")])):(0,o.kq)("",!0),t.showButtonNextPage?((0,o.wg)(),(0,o.iD)("div",H,[(0,o._)("a",{href:"#",onClick:e[1]||(e[1]=(0,r.iM)((e=>n.linkToRoute(t.nextPage)),["stop"]))},">>")])):(0,o.kq)("",!0)]),t.tour?((0,o.wg)(),(0,o.iD)("div",N,[(0,o._)("div",O,[(0,o._)("div",W,(0,f.zw)(n.formatedDate(t.tour.id))+" | "+(0,f.zw)(t.tour.land)+" - "+(0,f.zw)(t.tour.gebiet),1),(0,o._)("h1",null,(0,f.zw)(t.tour.titel),1),(0,o._)("p",null,(0,f.zw)(t.tour.untertitel),1)]),(0,o._)("div",V,[(0,o._)("a",Z,[(0,o._)("img",{src:n.getImagePath(t.tour.id,t.tour.hauptbild),class:"main-image"},null,8,M)])]),(0,o._)("section",J,[(0,o._)("table",null,[(0,o._)("tbody",null,[(0,o._)("tr",null,[G,(0,o._)("td",null,(0,f.zw)(n.formatedDate(t.tour.id)),1)]),(0,o._)("tr",null,[Q,(0,o._)("td",null,(0,f.zw)(t.tour.hoehe)+" m",1)]),(0,o._)("tr",null,[X,(0,o._)("td",null,(0,f.zw)(t.tour.dauer)+" Std",1)]),(0,o._)("tr",null,[K,(0,o._)("td",null,(0,f.zw)(t.tour.aufstieg)+" m ↑ "+(0,f.zw)(t.tour.abstieg)+" m ↓",1)]),(0,o._)("tr",null,[q,(0,o._)("td",null,(0,f.zw)(t.tour.distanz)+" km",1)])])])])])):(0,o.kq)("",!0),(0,o._)("section",{innerHTML:t.pageContent,class:"article-main pl-5 pr-5 mb-6 pl-extra-dtp pr-extra-dtp mb-dtp"},null,8,$),(0,o._)("section",tt,[(0,o._)("h2",et,"Fotos ("+(0,f.zw)(t.tour.bildanzahl)+")",1),(0,o._)("div",st,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.tourImages,(t=>((0,o.wg)(),(0,o.iD)("a",{key:t.id,"data-fslightbox":"tour-lightbox",href:t,exitFullscreenOnClose:""},[(0,o._)("img",{src:t},null,8,it)],8,rt)))),128))])])]),t.relatedTours.length>0?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[ot,(0,o._)("div",at,[(0,o._)("ul",nt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.relatedTours,(e=>((0,o.wg)(),(0,o.iD)("li",{key:e},[(0,o.Wm)(l,{tour:e,filteredTourList:t.tourlist,onTourIdChanged:n.refreshTourPage},null,8,["tour","filteredTourList","onTourIdChanged"])])))),128))])])],64)):(0,o.kq)("",!0)],64)}var ut={name:"Tour",components:{TourListItem:R},inject:["baseUrl","contentBaseUrl","basePathImages","formatedDate","getImagePath"],setup(){const t=c();return{storeTours:t}},data:function(){return{tour:"",tourId:this.$route.params.id,tourlist:[],pageContent:"",tourImages:[],basePathText:"contents/texte/",tmpId:"20160922",previousPage:"",nextPage:"",showButtonNextPage:!0,showButtonPrevPage:!0,relatedTours:[]}},created(t){console.log("TOUR CREATED:",t),this.storeTours.fetchTourlist().then((()=>{this.tourlist=this.storeTours.tourlistData,console.log("this.tourlist:",this.tourlist[0].titel),console.log("DEBUG:",this.tourlist[0].titel),console.log("baseUrl: ",this.baseUrl),console.log("baseUrl: ",this.baseUrl),console.log("contentBaseUrl: ",this.contentBaseUrl),this.setupFsLightbox(),console.log("this.storeTours.filteredTourlist",this.storeTours.filteredTourlist.length),this.renderPageData(this.tourId)}))},methods:{renderPageData(t){if(this.tour=this.getTourById(t),void 0===this.tour)return this.showButtonNextPage=!1,void(this.showButtonPrevPage=!1);this.previousPage=this.getPreviousTourId(this.tour),this.nextPage=this.getNextTourId(this.tour),this.loadPageContent(t),this.loadPageImages(),void 0!==this.tour.related_ids?this.relatedTours=this.getRelatedTours(this.tour.related_ids):this.relatedTours=[];let e=document.createElement("script");e.setAttribute("src",this.baseUrl+"/libs/fslightbox_refresh.js"),document.head.appendChild(e),document.head.removeChild(e)},async loadPageContent(t){try{const e=await fetch(this.contentBaseUrl+this.basePathText+this.tourId.substring(0,4)+"/"+t+".html");if(404===e.status)this.pageContent="sorry folks, no content found.";else{const t=await e.text();this.pageContent=t}}catch(e){console.log("error loadPageContent:"+e)}},loadPageImages(){this.tourImages=[],this.baselUrl="";let t="0";for(var e=1;e<=this.tour.bildanzahl;e++){e>9&&(t="");var s=this.contentBaseUrl+this.basePathImages+this.tourId.substring(0,4)+"/"+this.tourId+"/"+t+e+".jpg";this.tourImages.push(s)}},getTourById(t){return this.tourlist.find((e=>e.id===t))},getNextTourId(t){this.showButtonNextPage=!0;let e=this.tourlist.indexOf(t);return void 0!==this.tourlist[e-1]?this.tourlist[e-1].id:(console.log("next element does not exists"),this.showButtonNextPage=!1,-1)},getPreviousTourId(t){this.showButtonPrevPage=!0;let e=this.tourlist.indexOf(t);return void 0!==this.tourlist[e+1]?this.tourlist[e+1].id:(console.log("previous element does not exists"),this.showButtonPrevPage=!1,-1)},linkToRoute(t){this.$router.push({name:"tour-page",params:{id:t}}),console.log("$router.push id: ",t),this.tourId=t,this.renderPageData(this.tourId)},refreshTourPage(t){this.tourId=t,this.renderPageData(this.tourId)},getRelatedTours(t){const e=[],s=t.split(",");for(var r=0;r<s.length;r++)void 0!==this.getTourById(s[r].trim())&&e.push(this.getTourById(s[r].trim()));return e},setupFsLightbox(){let t=document.createElement("script"),e=document.createElement("script");t.setAttribute("src",this.baseUrl+"/libs/fslightbox.js"),e.setAttribute("src",this.baseUrl+"/libs/fslightbox_custom.js"),document.head.appendChild(t),document.body.appendChild(e)}}};const ht=(0,g.Z)(ut,[["render",lt]]);var dt=ht;const ct={class:"mr-5 pl-5 pt-5 pb-1"};function mt(t,e,s,r,i,a){const n=(0,o.up)("TourListFilter"),l=(0,o.up)("TourListPagination"),u=(0,o.up)("TourListItem");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(n,{tourlist:i.tourlist,onFilteredTours:e[0]||(e[0]=t=>i.filteredTourList=t),onResetStartItemIndex:e[1]||(e[1]=t=>i.startItemIndex=0)},null,8,["tourlist"]),(0,o.Wm)(l,{totalItems:a.totalPages,itemsPerPage:10,startItemIndex:i.startItemIndex,onChangeStartItemIndex:e[2]||(e[2]=t=>i.startItemIndex=t)},null,8,["totalItems","startItemIndex"]),(0,o._)("ul",ct,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.paginatedTourList,(t=>((0,o.wg)(),(0,o.iD)("li",{key:t.id},[(0,o.Wm)(u,{tour:t,filteredTourList:i.filteredTourList},null,8,["tour","filteredTourList"])])))),128))])],64)}const gt={class:"pl-5 pr-5 mt-6 mb-5"},pt={class:"hnx-tabnav"},It=["onClick"],Tt=["onClick"],ft={class:"col-center mt-4 mb-3"},vt={class:"list-category"};function bt(t,e,s,r,i,a){return(0,o.wg)(),(0,o.iD)("div",gt,[(0,o._)("div",null,[(0,o._)("ul",pt,[(0,o._)("li",{class:(0,f.C_)(["tab",{active:-1===t.activeDropdownPrev}])},[(0,o._)("a",{href:"#",onClick:e[0]||(e[0]=t=>a.filterTourlist(s.tourlist,"",""))},"Gesamt")],2),(0,o._)("li",{class:(0,f.C_)(["tab",{active:1===t.activeDropdownPrev}])},[(0,o._)("a",{href:"#",onClick:e[1]||(e[1]=t=>a.openTabnavDropdown(1))},"Jahr"),(0,o._)("ul",{class:(0,f.C_)(["dropdown",{open:1===t.activeDropdown}])},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.years,(t=>((0,o.wg)(),(0,o.iD)("li",{key:t},[(0,o._)("a",{href:"#",onClick:e=>a.filterTourlist(s.tourlist,"jahr",t)},(0,f.zw)(t),9,It)])))),128))],2)],2),(0,o._)("li",{class:(0,f.C_)(["tab",{active:2===t.activeDropdownPrev}])},[(0,o._)("a",{href:"#",onClick:e[2]||(e[2]=t=>a.openTabnavDropdown(2))},"Land"),(0,o._)("ul",{class:(0,f.C_)(["dropdown",{open:2===t.activeDropdown}])},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.countries,(t=>((0,o.wg)(),(0,o.iD)("li",{key:t},[(0,o._)("a",{href:"#",onClick:e=>a.filterTourlist(s.tourlist,"land",t)},(0,f.zw)(t),9,Tt)])))),128))],2)],2),(0,o._)("li",{class:(0,f.C_)(["tab",{active:3===t.activeDropdownPrev}])},[(0,o._)("a",{href:"#",onClick:e[3]||(e[3]=t=>a.openTabnavDropdown(3))},"Kategorie"),(0,o._)("ul",{class:(0,f.C_)(["dropdown",{open:3===t.activeDropdown}])},[(0,o._)("li",null,[(0,o._)("a",{href:"#",onClick:e[4]||(e[4]=t=>a.filterTourlist(s.tourlist,"category","Winterwanderung"))},"Winterwanderung")])],2)],2)])]),(0,o._)("div",ft,[(0,o._)("span",vt,(0,f.zw)(t.currentFilter),1)])])}var Pt={name:"TourListFilter",props:["tourlist"],setup(){const t=c();return{storeTours:t}},data:function(){return{activeDropdown:-1,activeDropdownPrev:-1,countries:["Deutschland","Italien","Korsika","Österreich","Norwegen","Schweiz","Spanien","Slowenien"],years:["2022","2021","2020","2019","2018","2017","2016","2015","2014"],currentFilter:""}},methods:{filterTourlist(t,e,s){console.log("filterTourlist filterKey: "+e+" = "+s);let r=t.filter((function(t){switch(e){case"land":return t.land==s;case"jahr":return t.id.substring(0,4)==s;case"category":return t.category==s;default:return t}}));this.$emit("filtered-tours",r),this.$emit("reset-start-item-index"),this.activeDropdownPrev=this.activeDropdown,this.activeDropdown=-1,this.currentFilter=s,this.storeTours.updateTourFilterValue(s),this.storeTours.updateActiveDropdownPrev(this.activeDropdownPrev)},openTabnavDropdown(t){this.activeDropdown=t},closeAllDropdowns(t){this.$el.contains(t.target)||(this.activeDropdown=-1)}},created(){document.addEventListener("click",this.closeAllDropdowns),0!==this.storeTours.tourFilterValue.length&&(this.currentFilter=this.storeTours.tourFilterValue),0!==this.storeTours.activeDropdownPrev&&(this.activeDropdownPrev=this.storeTours.activeDropdownPrev)},beforeUnmount(){document.removeEventListener("click",this.closeAllDropdowns)}};const wt=(0,g.Z)(Pt,[["render",bt]]);var Dt=wt;const xt={class:"pagenav pl-5 pr-5 mb-5"},Lt={class:"col col-left"},_t={class:"col col-center"},kt={class:"col col-right"};function yt(t,e,s,r,i,a){return(0,o.wg)(),(0,o.iD)("section",null,[(0,o._)("div",xt,[(0,o._)("div",Lt,[t.hasPrevious?((0,o.wg)(),(0,o.iD)("a",{key:0,href:"#",onClick:e[0]||(e[0]=(...t)=>a.decrementIndex&&a.decrementIndex(...t))},"zuruck")):(0,o.kq)("",!0)]),(0,o._)("div",_t,(0,f.zw)(t.firstPageItem+1)+" - "+(0,f.zw)(t.lastPageItem)+"/ "+(0,f.zw)(s.totalItems),1),(0,o._)("div",kt,[t.hasNext?((0,o.wg)(),(0,o.iD)("a",{key:0,href:"#",onClick:e[1]||(e[1]=(...t)=>a.incrementIndex&&a.incrementIndex(...t))},"weiter")):(0,o.kq)("",!0)])])])}var zt={name:"TourListPagination",props:["totalItems","itemsPerPage","startItemIndex"],setup(){const t=c();return{storeTours:t}},data:function(){return{modifiedStartItemIndex:this.startItemIndex,firstPageItem:this.startItemIndex,lastPageItem:0,hasNext:!0,hasPrevious:!1}},methods:{getLastPageItem(){this.lastPageItem=this.startItemIndex+this.itemsPerPage,this.lastPageItem>this.totalItems&&(this.lastPageItem=this.totalItems)},incrementIndex(){this.hasPrevious=!0,this.modifiedStartItemIndex<this.totalItems-10&&(this.modifiedStartItemIndex+=this.itemsPerPage,this.firstPageItem+=this.itemsPerPage,this.lastPageItem+=this.itemsPerPage,this.hasNext=!0,this.lastPageItem>=this.totalItems&&(this.lastPageItem=this.totalItems,this.hasNext=!1)),this.storeTours.updateFirstPageItem(this.firstPageItem),this.storeTours.updateLastPageItem(this.lastPageItem),this.storeTours.updateTotalItems(this.totalItems),this.storeTours.nextButton=this.hasNext,this.storeTours.previousButton=this.hasPrevious,this.$emit("change-start-item-index",this.modifiedStartItemIndex)},decrementIndex(){this.hasNext=!0,this.modifiedStartItemIndex>0?(this.modifiedStartItemIndex-=this.itemsPerPage,this.firstPageItem-=this.itemsPerPage,this.lastPageItem=this.firstPageItem+this.itemsPerPage,this.hasPrevious=!0):this.hasPrevious=!1,this.storeTours.updateFirstPageItem(this.firstPageItem),this.storeTours.updateLastPageItem(this.lastPageItem),this.storeTours.updateTotalItems(this.totalItems),this.storeTours.nextButton=this.hasNext,this.storeTours.previousButton=this.hasPrevious,this.$emit("change-start-item-index",this.modifiedStartItemIndex)},resetPagination(){this.modifiedStartItemIndex=0,this.firstPageItem=this.startItemIndex,this.lastPageItem=this.startItemIndex+this.itemsPerPage,this.hasNext=!0,this.hasPrevious=!1}},watch:{startItemIndex:function(){0===this.startItemIndex&&this.resetPagination()},totalItems:function(){this.hasNext=!0,this.getLastPageItem(),this.lastPageItem>=this.totalItems&&(this.hasNext=!1)}},mounted(){this.firstPageItem=this.storeTours.firstPageItem,this.lastPageItem=this.storeTours.lastPageItem,this.hasNext=this.storeTours.nextButton,this.hasPrevious=this.storeTours.previousButton,0!==this.storeTours.firstPageItem&&(this.modifiedStartItemIndex=this.storeTours.firstPageItem)}};const Ct=(0,g.Z)(zt,[["render",yt]]);var Ut=Ct,Bt={name:"Tourlist",components:{TourListFilter:Dt,TourListPagination:Ut,TourListItem:R},inject:["baseUrl"],setup(){const t=c();return{storeTours:t}},data(){return{startItemIndex:0,totalItems:"",tourlist:[],filteredTourList:[]}},computed:{paginatedTourList(){return void 0!==this.filteredTourList?this.filteredTourList.slice(this.startItemIndex,this.startItemIndex+10):0},totalPages(){return void 0!==this.filteredTourList?this.filteredTourList.length:0}},created(){console.log("TOURLIST CREATED"),this.storeTours.fetchTourlist().then((()=>{this.tourlist=this.storeTours.tourlistData,console.log("baseUrl: ",this.baseUrl),0!==this.storeTours.filteredTourlist.length?this.filteredTourList=this.storeTours.filteredTourlist:0===this.filteredTourList.length&&(this.filteredTourList=this.tourlist),this.totalItems=this.getTotalPages,this.startItemIndex=this.storeTours.firstPageItem,this.storeTours.routeOrigin=this.$route.name}))},updated(){0===this.startItemIndex&&(this.storeTours.updateFirstPageItem(0),this.storeTours.updateLastPageItem(0),this.storeTours.previousButton=!1)}};const jt=(0,g.Z)(Bt,[["render",mt]]);var Rt=jt;const Ft=t=>((0,o.dD)("data-v-295a5aa6"),t=t(),(0,o.Cn)(),t),At={class:"pl-5"},Yt=Ft((()=>(0,o._)("h2",{class:"mb-3"},"Suche",-1))),Et={id:"searchbox",class:"pr-6 mb-6"},St=["innerHTML"];function Ht(t,e,s,i,a,n){const l=(0,o.up)("TourListItem");return(0,o.wg)(),(0,o.iD)("div",At,[Yt,(0,o._)("div",Et,[(0,o.wy)((0,o._)("input",{type:"search",onClick:e[0]||(e[0]=(...t)=>n.emptyFormField&&n.emptyFormField(...t)),onFocus:e[1]||(e[1]=t=>a.searchText=null),"onUpdate:modelValue":e[2]||(e[2]=t=>a.searchText=t),placeholder:"Suchbegriff eingeben"},null,544),[[r.nr,a.searchText]]),(0,o._)("button",{type:"submit",onClick:e[3]||(e[3]=t=>n.doSearch()),class:"button button-search"},"Go")]),(0,o._)("p",{class:"mt-5 mb-6",innerHTML:a.resultInfo},null,8,St),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.searchResultList,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t.id},[(0,o.Wm)(l,{tour:t,filteredTourList:a.tourlist},null,8,["tour","filteredTourList"])])))),128))])}var Nt={name:"Search",components:{TourListItem:R},setup(){const t=c();return{storeTours:t}},data(){return{tourlist:[],searchResultList:[],searchText:"",resultInfo:""}},methods:{doSearch(){this.searchResultList=[],""!==this.searchText&&null!==this.searchText?(console.log("doSearch"),this.searchResultList=this.getObjects(this.tourlist,"",this.searchText),this.searchResultList&&(this.resultInfo=this.getResultInfo(this.searchResultList.length))):this.resultInfo="Bitte Suchbegriff eingeben"},getObjects(t,e,s){let r=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&("object"==typeof t[i]?r=r.concat(this.getObjects(t[i],e,s)):i==e&&t[i]==s||i==e&&""==s?(r.push(t),console.log("BUMM")):-1!=t[i].toLowerCase().indexOf(s.toLowerCase())&&""==e&&-1==r.lastIndexOf(t)&&r.push(t));return r},getResultInfo(t){let e="Ergebnisse";return 1===t&&(e="Ergebnis"),t+" "+e+" für <b>"+this.searchText+"</b>"},emptyFormField(){this.searchResultList=[],this.resultInfo=""}},created(){console.log("created"),this.storeTours.fetchTourlist().then((()=>{this.tourlist=this.storeTours.tourlistData}))}};const Ot=(0,g.Z)(Nt,[["render",Ht],["__scopeId","data-v-295a5aa6"]]);var Wt=Ot;const Vt=[{path:"/",name:"home",component:Y},{path:"/tourlist",name:"tour-list",component:Rt},{path:"/tour/:id",name:"tour-page",component:dt},{path:"/search",name:"tour-search",component:Wt}],Zt=(0,T.p7)({history:(0,T.PO)("/"),routes:Vt});var Mt=Zt;const Jt=(0,i.WB)(),Gt=(0,r.ri)(I);Gt.use(Jt),Gt.use(Mt),Gt.mount("#app")}},e={};function s(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,r,i,o){if(!r){var a=1/0;for(h=0;h<t.length;h++){r=t[h][0],i=t[h][1],o=t[h][2];for(var n=!0,l=0;l<r.length;l++)(!1&o||a>=o)&&Object.keys(s.O).every((function(t){return s.O[t](r[l])}))?r.splice(l--,1):(n=!1,o<a&&(a=o));if(n){t.splice(h--,1);var u=i();void 0!==u&&(e=u)}}return e}o=o||0;for(var h=t.length;h>0&&t[h-1][2]>o;h--)t[h]=t[h-1];t[h]=[r,i,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var i,o,a=r[0],n=r[1],l=r[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(i in n)s.o(n,i)&&(s.m[i]=n[i]);if(l)var h=l(s)}for(e&&e(r);u<a.length;u++)o=a[u],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(h)},r=self["webpackChunkvue_hiking_tour_app_vue3"]=self["webpackChunkvue_hiking_tour_app_vue3"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(9728)}));r=s.O(r)})();
//# sourceMappingURL=app.1f303e9f.js.map