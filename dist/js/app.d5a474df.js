(function(){"use strict";var t={9580:function(t,e,s){var r=s(9242),o=s(1020),i=s(3396);const a={class:"header pl-5 mb-6"},n=(0,i._)("div",{id:"logo",class:"mb-2"},[(0,i._)("a",{href:"#",class:"logo"},"Bergtouren & Wanderungen")],-1),l=(0,i._)("div",{class:"navgotop mr-4 mb-6"},[(0,i._)("a",{href:"#"},"Nach oben")],-1);function u(t,e,s,r,o,u){const h=(0,i.up)("router-link"),d=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",a,[n,(0,i._)("nav",null,[(0,i.Wm)(h,{to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("HOME")])),_:1}),(0,i.Wm)(h,{to:"/tourlist"},{default:(0,i.w5)((()=>[(0,i.Uk)("ÜBERSICHT")])),_:1}),(0,i.Wm)(h,{to:"/search"},{default:(0,i.w5)((()=>[(0,i.Uk)("SUCHE")])),_:1})])]),(0,i.Wm)(d),l],64)}var h=s(4161);const d=(0,o.Q_)({id:"tours",state:()=>({tourlistData:[],filteredTourlist:[],firstPageItem:0,lastPageItem:0,totalItems:0,previousButton:!1,nextButton:!0,latestTours:[],routeOrigin:"",baseUrl:"http://wandern.cube-online.de/",tourFilterValue:"",activeDropdownPrev:-1}),getters:{getTourlistData:t=>t.tourlistData},actions:{async fetchTourlist(){try{0;const t=await h.Z.get(this.baseUrl+"contents/data.json");this.tourlistData=t.data.reverse()}catch(t){console.log(t)}},updateFirstPageItem(t){this.firstPageItem=t},updateLastPageItem(t){this.lastPageItem=t},updateTotalItems(t){this.totalItems=t},updateTourlist(t){this.filteredTourlist=t},updateLatestTours(t){this.latestTours=t},updateTourFilterValue(t){this.tourFilterValue=t},updateActiveDropdownPrev(t){this.activeDropdownPrev=t}}});var c={name:"App",components:{},provide(){return{baseUrl:"http://wandern.cube-online.de/",contentBaseUrl:"http://wandern.hanx.de/",basePathImages:"contents/fotos/",formatedDate(t){let e="";return"undefined"!==t&&(e+=t.toString().substring(6,8)+".",e+=t.toString().substring(4,6)+".",e+=t.toString().substring(0,4)),e},getImagePath(t,e){return this.contentBaseUrl+this.basePathImages+t.substring(0,4)+"/"+t+"/"+e+".jpg"}}},setup(){const t=d();return{storeTours:t}},created(){console.log("APP CREATED")},methods:{}},m=s(89);const g=(0,m.Z)(c,[["render",u]]);var p=g,f=s(2483),I=s(7139);const T=["src"],v={class:"opener mb-6"},P={class:"subheadline"},w={class:"country-region"},b=(0,i._)("h2",{class:"ml-5"},"Frühere Touren",-1),_={class:"mr-5 pl-5 pt-5 pb-1"};function x(t,e,s,r,o,a){const n=(0,i.up)("router-link"),l=(0,i.up)("TourListItem");return(0,i.wg)(),(0,i.iD)(i.HY,null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.tourlist.slice(0,1),(t=>((0,i.wg)(),(0,i.iD)("div",{key:t.id,class:"main-image-stage mt-5"},[(0,i.Wm)(n,{to:{name:"tour-page",params:{id:t.id}}},{default:(0,i.w5)((()=>[(0,i._)("img",{src:a.getImagePath(t.id,t.hauptbild),class:"main-image"},null,8,T)])),_:2},1032,["to"]),(0,i._)("div",v,[(0,i._)("div",P,[(0,i._)("span",w,(0,I.zw)(a.formatedDate(t.id))+" | "+(0,I.zw)(t.gebiet),1)]),(0,i.Wm)(n,{to:{name:"tour-page",params:{id:t.id}}},{default:(0,i.w5)((()=>[(0,i._)("h1",null,(0,I.zw)(t.titel),1)])),_:2},1032,["to"]),(0,i._)("p",null,(0,I.zw)(t.untertitel),1)])])))),128)),b,(0,i._)("ul",_,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.tourlist.slice(1,o.tourItemsLimit),(t=>((0,i.wg)(),(0,i.iD)("li",{key:t.id},[(0,i.Wm)(l,{tour:t,filteredTourList:o.tourlist},null,8,["tour","filteredTourList"])])))),128))])],64)}const D={class:"list-item mb-6"},L={class:"list-item-image mr-6"},k=["src"],y={class:"list-item-text"},C={class:"subheadline"};function B(t,e,s,o,a,n){return(0,i.wg)(),(0,i.iD)("div",D,[(0,i._)("div",L,[(0,i._)("a",{href:"#",onClick:e[0]||(e[0]=(0,r.iM)((t=>n.linkToRoute(s.tour.id)),["stop"])),id:"teaser-01"},[(0,i._)("img",{src:n.getImagePath(s.tour.id,s.tour.hauptbild),class:"teaser-image"},null,8,k)])]),(0,i._)("div",y,[(0,i._)("div",C,(0,I.zw)(n.formatedDate(s.tour.id))+" | "+(0,I.zw)(s.tour.gebiet),1),(0,i._)("a",{href:"#",onClick:e[1]||(e[1]=(0,r.iM)((t=>n.linkToRoute(s.tour.id)),["stop"]))},[(0,i._)("h2",null,(0,I.zw)(s.tour.titel),1)]),(0,i._)("p",null,(0,I.zw)(s.tour.untertitel),1)])])}s(7658);var U={name:"TourListItem",props:["tour","filteredTourList"],emits:["tour-id-changed"],inject:["baseUrl","contentBaseUrl","formatedDate"],setup(){const t=d();return{storeTours:t}},data(){return{basePathImages:"contents/fotos/"}},methods:{async linkToRoute(t){console.log("$router.push: ",t),console.log("linkToRoute - this.filteredTourList",this.filteredTourList.length);const e=this.$route.name;this.storeTours.updateTourlist(this.filteredTourList),await this.$router.push({name:"tour-page",params:{id:t}}),"tour-page"===e&&(console.log("emit tour-id-chamnged, because routeOrigin = ",e),this.$emit("tour-id-changed",t))},getImagePath(t,e){return this.contentBaseUrl+this.basePathImages+t.substring(0,4)+"/"+t+"/"+e+".jpg"}}};const z=(0,m.Z)(U,[["render",B]]);var O=z,S={name:"Home",components:{TourListItem:O},inject:["baseUrl","contentBaseUrl","basePathImages","formatedDate","getImagePath"],setup(){const t=d();return{storeTours:t}},data(){return{tourlist:[],filteredTourList:[],latestTours:[],tourItemsLimit:6}},methods:{getLatestTours(t){return t.reverse()}},created(){console.log("HOME CREATED = "),this.storeTours.fetchTourlist().then((()=>{this.tourlist=this.storeTours.tourlistData}))}};const F=(0,m.Z)(S,[["render",x]]);var R=F;const j={class:"pagenav font-bigger pl-5 pr-5 mb-5"},H={key:0,class:"col col-right-big"},E={key:1,class:"col col-left-big"},N={key:0},W={class:"article-head pl-5 pr-5 mb-4"},A={class:"subheadline"},Y={class:"main-image-stage"},$={href:"#image_gallery"},K=["src"],M={class:"pl-5 pr-5 mt-5 mb-5 mt-dtp mb-dtp"},Z=(0,i._)("td",null,"Datum",-1),V=(0,i._)("td",null,"Höhe",-1),q=(0,i._)("td",null,"Dauer",-1),G=(0,i._)("td",null,"Höhendifferenz",-1),J=(0,i._)("td",null,"Distanz",-1),Q=["innerHTML"],X={class:"pl-5 pr-5 mb-5",id:"image_gallery"},tt={class:"mb-3"},et={class:"gallery mt-5"},st=["href"],rt=["src"],ot=(0,i._)("h2",{class:"ml-5 mb-3"},"Siehe auch",-1),it={class:"box-related-tours mb-5 mr-5 ml-5"},at={class:"mr-5 pl-5 pt-5 pb-1"};function nt(t,e,s,o,a,n){const l=(0,i.up)("TourListItem");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("article",null,[(0,i._)("div",j,[t.showButtonPrevPage?((0,i.wg)(),(0,i.iD)("div",H,[(0,i._)("a",{href:"#",onClick:e[0]||(e[0]=(0,r.iM)((e=>n.linkToRoute(t.previousPage)),["stop"]))},"<<")])):(0,i.kq)("",!0),t.showButtonNextPage?((0,i.wg)(),(0,i.iD)("div",E,[(0,i._)("a",{href:"#",onClick:e[1]||(e[1]=(0,r.iM)((e=>n.linkToRoute(t.nextPage)),["stop"]))},">>")])):(0,i.kq)("",!0)]),t.tour?((0,i.wg)(),(0,i.iD)("div",N,[(0,i._)("div",W,[(0,i._)("div",A,(0,I.zw)(n.formatedDate(t.tour.id))+" | "+(0,I.zw)(t.tour.land)+" - "+(0,I.zw)(t.tour.gebiet),1),(0,i._)("h1",null,(0,I.zw)(t.tour.titel),1),(0,i._)("p",null,(0,I.zw)(t.tour.untertitel),1)]),(0,i._)("div",Y,[(0,i._)("a",$,[(0,i._)("img",{src:n.getImagePath(t.tour.id,t.tour.hauptbild),class:"main-image"},null,8,K)])]),(0,i._)("section",M,[(0,i._)("table",null,[(0,i._)("tbody",null,[(0,i._)("tr",null,[Z,(0,i._)("td",null,(0,I.zw)(n.formatedDate(t.tour.id)),1)]),(0,i._)("tr",null,[V,(0,i._)("td",null,(0,I.zw)(t.tour.hoehe)+" m",1)]),(0,i._)("tr",null,[q,(0,i._)("td",null,(0,I.zw)(t.tour.dauer)+" Std",1)]),(0,i._)("tr",null,[G,(0,i._)("td",null,(0,I.zw)(t.tour.aufstieg)+" m ↑ "+(0,I.zw)(t.tour.abstieg)+" m ↓",1)]),(0,i._)("tr",null,[J,(0,i._)("td",null,(0,I.zw)(t.tour.distanz)+" km",1)])])])])])):(0,i.kq)("",!0),(0,i._)("section",{innerHTML:t.pageContent,class:"article-main pl-5 pr-5 mb-6 pl-extra-dtp pr-extra-dtp mb-dtp"},null,8,Q),(0,i._)("section",X,[(0,i._)("h2",tt,"Fotos ("+(0,I.zw)(t.tour.bildanzahl)+")",1),(0,i._)("div",et,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.tourImages,(t=>((0,i.wg)(),(0,i.iD)("a",{key:t.id,"data-fslightbox":"tour-lightbox",href:t,exitFullscreenOnClose:""},[(0,i._)("img",{src:t},null,8,rt)],8,st)))),128))])])]),t.relatedTours.length>0?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[ot,(0,i._)("div",it,[(0,i._)("ul",at,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.relatedTours,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e},[(0,i.Wm)(l,{tour:e,filteredTourList:t.tourlist,onTourIdChanged:n.refreshTourPage},null,8,["tour","filteredTourList","onTourIdChanged"])])))),128))])])],64)):(0,i.kq)("",!0)],64)}var lt={name:"Tour",components:{TourListItem:O},inject:["baseUrl","contentBaseUrl","basePathImages","formatedDate","getImagePath"],setup(){const t=d();return{storeTours:t}},data:function(){return{tour:"",tourId:this.$route.params.id,tourlist:[],pageContent:"",tourImages:[],basePathText:"contents/texte/",tmpId:"20160922",previousPage:"",nextPage:"",showButtonNextPage:!0,showButtonPrevPage:!0,relatedTours:[]}},created(t){console.log("TOUR CREATED:",t),this.storeTours.fetchTourlist().then((()=>{this.tourlist=this.storeTours.tourlistData,console.log("this.tourlist:",this.tourlist[0].titel),console.log("DEBUG:",this.tourlist[0].titel),console.log("baseUrl: ",this.baseUrl),console.log("baseUrl: ",this.baseUrl),console.log("contentBaseUrl: ",this.contentBaseUrl),this.setupFsLightbox(),console.log("this.storeTours.filteredTourlist",this.storeTours.filteredTourlist.length),this.renderPageData(this.tourId)}))},methods:{renderPageData(t){if(this.tour=this.getTourById(t),void 0===this.tour)return this.showButtonNextPage=!1,void(this.showButtonPrevPage=!1);this.previousPage=this.getPreviousTourId(this.tour),this.nextPage=this.getNextTourId(this.tour),this.loadPageContent(t),this.loadPageImages(),void 0!==this.tour.related_ids?this.relatedTours=this.getRelatedTours(this.tour.related_ids):this.relatedTours=[];let e=document.createElement("script");e.setAttribute("src",this.baseUrl+"/libs/fslightbox_refresh.js"),document.head.appendChild(e),document.head.removeChild(e)},async loadPageContent(t){try{const e=await fetch(this.contentBaseUrl+this.basePathText+this.tourId.substring(0,4)+"/"+t+".html");if(404===e.status)this.pageContent="sorry folks, no content found.";else{const t=await e.text();this.pageContent=t}}catch(e){console.log("error loadPageContent:"+e)}},loadPageImages(){this.tourImages=[],this.baselUrl="";let t="0";for(var e=1;e<=this.tour.bildanzahl;e++){e>9&&(t="");var s=this.contentBaseUrl+this.basePathImages+this.tourId.substring(0,4)+"/"+this.tourId+"/"+t+e+".jpg";this.tourImages.push(s)}},getTourById(t){return this.tourlist.find((e=>e.id===t))},getNextTourId(t){this.showButtonNextPage=!0;let e=this.tourlist.indexOf(t);return void 0!==this.tourlist[e-1]?this.tourlist[e-1].id:(console.log("next element does not exists"),this.showButtonNextPage=!1,-1)},getPreviousTourId(t){this.showButtonPrevPage=!0;let e=this.tourlist.indexOf(t);return void 0!==this.tourlist[e+1]?this.tourlist[e+1].id:(console.log("previous element does not exists"),this.showButtonPrevPage=!1,-1)},linkToRoute(t){this.$router.push({name:"tour-page",params:{id:t}}),console.log("$router.push id: ",t),this.tourId=t,this.renderPageData(this.tourId)},refreshTourPage(t){this.tourId=t,this.renderPageData(this.tourId)},getRelatedTours(t){const e=[],s=t.split(",");for(var r=0;r<s.length;r++)void 0!==this.getTourById(s[r].trim())&&e.push(this.getTourById(s[r].trim()));return e},setupFsLightbox(){let t=document.createElement("script"),e=document.createElement("script");t.setAttribute("src",this.baseUrl+"/libs/fslightbox.js"),e.setAttribute("src",this.baseUrl+"/libs/fslightbox_custom.js"),document.head.appendChild(t),document.body.appendChild(e)}}};const ut=(0,m.Z)(lt,[["render",nt]]);var ht=ut;const dt={class:"mr-5 pl-5 pt-5 pb-1"};function ct(t,e,s,r,o,a){const n=(0,i.up)("TourListFilter"),l=(0,i.up)("TourListPagination"),u=(0,i.up)("TourListItem");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(n,{tourlist:o.tourlist,onFilteredTours:e[0]||(e[0]=t=>o.filteredTourList=t),onResetStartItemIndex:e[1]||(e[1]=t=>o.startItemIndex=0)},null,8,["tourlist"]),(0,i.Wm)(l,{totalItems:a.totalPages,itemsPerPage:10,startItemIndex:o.startItemIndex,onChangeStartItemIndex:e[2]||(e[2]=t=>o.startItemIndex=t)},null,8,["totalItems","startItemIndex"]),(0,i._)("ul",dt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.paginatedTourList,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t.id},[(0,i.Wm)(u,{tour:t,filteredTourList:o.filteredTourList},null,8,["tour","filteredTourList"])])))),128))])],64)}const mt={class:"pl-5 pr-5 mt-6 mb-5"},gt={class:"hnx-tabnav"},pt=["onClick"],ft=["onClick"],It={class:"col-center mt-4 mb-3"},Tt={class:"list-category"};function vt(t,e,s,r,o,a){return(0,i.wg)(),(0,i.iD)("div",mt,[(0,i._)("div",null,[(0,i._)("ul",gt,[(0,i._)("li",{class:(0,I.C_)(["tab",{active:-1===t.activeDropdownPrev}])},[(0,i._)("a",{href:"#",onClick:e[0]||(e[0]=t=>a.filterTourlist(s.tourlist,"",""))},"Gesamt")],2),(0,i._)("li",{class:(0,I.C_)(["tab",{active:1===t.activeDropdownPrev}])},[(0,i._)("a",{href:"#",onClick:e[1]||(e[1]=t=>a.openTabnavDropdown(1))},"Jahr"),(0,i._)("ul",{class:(0,I.C_)(["dropdown",{open:1===t.activeDropdown}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.years,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i._)("a",{href:"#",onClick:e=>a.filterTourlist(s.tourlist,"jahr",t)},(0,I.zw)(t),9,pt)])))),128))],2)],2),(0,i._)("li",{class:(0,I.C_)(["tab",{active:2===t.activeDropdownPrev}])},[(0,i._)("a",{href:"#",onClick:e[2]||(e[2]=t=>a.openTabnavDropdown(2))},"Land"),(0,i._)("ul",{class:(0,I.C_)(["dropdown",{open:2===t.activeDropdown}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.countries,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i._)("a",{href:"#",onClick:e=>a.filterTourlist(s.tourlist,"land",t)},(0,I.zw)(t),9,ft)])))),128))],2)],2),(0,i._)("li",{class:(0,I.C_)(["tab",{active:3===t.activeDropdownPrev}])},[(0,i._)("a",{href:"#",onClick:e[3]||(e[3]=t=>a.openTabnavDropdown(3))},"Kategorie"),(0,i._)("ul",{class:(0,I.C_)(["dropdown",{open:3===t.activeDropdown}])},[(0,i._)("li",null,[(0,i._)("a",{href:"#",onClick:e[4]||(e[4]=t=>a.filterTourlist(s.tourlist,"category","Winterwanderung"))},"Winterwanderung")])],2)],2)])]),(0,i._)("div",It,[(0,i._)("span",Tt,(0,I.zw)(t.currentFilter),1)])])}var Pt={name:"TourListFilter",props:["tourlist"],setup(){const t=d();return{storeTours:t}},data:function(){return{activeDropdown:-1,activeDropdownPrev:-1,countries:["Deutschland","Italien","Korsika","Österreich","Norwegen","Schweiz","Spanien","Slowenien"],years:["2022","2021","2020","2019","2018","2017","2016","2015","2014"],currentFilter:""}},methods:{filterTourlist(t,e,s){console.log("filterTourlist filterKey: "+e+" = "+s);let r=t.filter((function(t){switch(e){case"land":return t.land==s;case"jahr":return t.id.substring(0,4)==s;case"category":return t.category==s;default:return t}}));this.$emit("filtered-tours",r),this.$emit("reset-start-item-index"),this.activeDropdownPrev=this.activeDropdown,this.activeDropdown=-1,this.currentFilter=s,this.storeTours.updateTourFilterValue(s),this.storeTours.updateActiveDropdownPrev(this.activeDropdownPrev)},openTabnavDropdown(t){this.activeDropdown=t},closeAllDropdowns(t){this.$el.contains(t.target)||(this.activeDropdown=-1)}},created(){document.addEventListener("click",this.closeAllDropdowns),0!==this.storeTours.tourFilterValue.length&&(this.currentFilter=this.storeTours.tourFilterValue),0!==this.storeTours.activeDropdownPrev&&(this.activeDropdownPrev=this.storeTours.activeDropdownPrev)},beforeUnmount(){document.removeEventListener("click",this.closeAllDropdowns)}};const wt=(0,m.Z)(Pt,[["render",vt]]);var bt=wt;const _t={class:"pagenav pl-5 pr-5 mb-5"},xt={class:"col col-left"},Dt={class:"col col-center"},Lt={class:"col col-right"};function kt(t,e,s,r,o,a){return(0,i.wg)(),(0,i.iD)("section",null,[(0,i._)("div",_t,[(0,i._)("div",xt,[t.hasPrevious?((0,i.wg)(),(0,i.iD)("a",{key:0,href:"#",onClick:e[0]||(e[0]=(...t)=>a.decrementIndex&&a.decrementIndex(...t))},"zuruck")):(0,i.kq)("",!0)]),(0,i._)("div",Dt,(0,I.zw)(t.firstPageItem+1)+" - "+(0,I.zw)(t.lastPageItem)+"/ "+(0,I.zw)(s.totalItems),1),(0,i._)("div",Lt,[t.hasNext?((0,i.wg)(),(0,i.iD)("a",{key:0,href:"#",onClick:e[1]||(e[1]=(...t)=>a.incrementIndex&&a.incrementIndex(...t))},"weiter")):(0,i.kq)("",!0)])])])}var yt={name:"TourListPagination",props:["totalItems","itemsPerPage","startItemIndex"],setup(){const t=d();return{storeTours:t}},data:function(){return{modifiedStartItemIndex:this.startItemIndex,firstPageItem:this.startItemIndex,lastPageItem:0,hasNext:!0,hasPrevious:!1}},methods:{getLastPageItem(){this.lastPageItem=this.startItemIndex+this.itemsPerPage,this.lastPageItem>this.totalItems&&(this.lastPageItem=this.totalItems)},incrementIndex(){this.hasPrevious=!0,this.modifiedStartItemIndex<this.totalItems-10&&(this.modifiedStartItemIndex+=this.itemsPerPage,this.firstPageItem+=this.itemsPerPage,this.lastPageItem+=this.itemsPerPage,this.hasNext=!0,this.lastPageItem>=this.totalItems&&(this.lastPageItem=this.totalItems,this.hasNext=!1)),this.storeTours.updateFirstPageItem(this.firstPageItem),this.storeTours.updateLastPageItem(this.lastPageItem),this.storeTours.updateTotalItems(this.totalItems),this.storeTours.nextButton=this.hasNext,this.storeTours.previousButton=this.hasPrevious,this.$emit("change-start-item-index",this.modifiedStartItemIndex)},decrementIndex(){this.hasNext=!0,this.modifiedStartItemIndex>0?(this.modifiedStartItemIndex-=this.itemsPerPage,this.firstPageItem-=this.itemsPerPage,this.lastPageItem=this.firstPageItem+this.itemsPerPage,this.hasPrevious=!0):this.hasPrevious=!1,this.storeTours.updateFirstPageItem(this.firstPageItem),this.storeTours.updateLastPageItem(this.lastPageItem),this.storeTours.updateTotalItems(this.totalItems),this.storeTours.nextButton=this.hasNext,this.storeTours.previousButton=this.hasPrevious,this.$emit("change-start-item-index",this.modifiedStartItemIndex)},resetPagination(){this.modifiedStartItemIndex=0,this.firstPageItem=this.startItemIndex,this.lastPageItem=this.startItemIndex+this.itemsPerPage,this.hasNext=!0,this.hasPrevious=!1}},watch:{startItemIndex:function(){0===this.startItemIndex&&this.resetPagination()},totalItems:function(){this.hasNext=!0,this.getLastPageItem(),this.lastPageItem>=this.totalItems&&(this.hasNext=!1)}},mounted(){this.firstPageItem=this.storeTours.firstPageItem,this.lastPageItem=this.storeTours.lastPageItem,this.hasNext=this.storeTours.nextButton,this.hasPrevious=this.storeTours.previousButton,0!==this.storeTours.firstPageItem&&(this.modifiedStartItemIndex=this.storeTours.firstPageItem)}};const Ct=(0,m.Z)(yt,[["render",kt]]);var Bt=Ct,Ut={name:"Tourlist",components:{TourListFilter:bt,TourListPagination:Bt,TourListItem:O},inject:["baseUrl"],setup(){const t=d();return{storeTours:t}},data(){return{startItemIndex:0,totalItems:"",tourlist:[],filteredTourList:[]}},computed:{paginatedTourList(){return void 0!==this.filteredTourList?this.filteredTourList.slice(this.startItemIndex,this.startItemIndex+10):0},totalPages(){return void 0!==this.filteredTourList?this.filteredTourList.length:0}},created(){console.log("TOURLIST CREATED"),this.storeTours.fetchTourlist().then((()=>{this.tourlist=this.storeTours.tourlistData,console.log("baseUrl: ",this.baseUrl),0!==this.storeTours.filteredTourlist.length?this.filteredTourList=this.storeTours.filteredTourlist:0===this.filteredTourList.length&&(this.filteredTourList=this.tourlist),this.totalItems=this.getTotalPages,this.startItemIndex=this.storeTours.firstPageItem,this.storeTours.routeOrigin=this.$route.name}))},updated(){0===this.startItemIndex&&(this.storeTours.updateFirstPageItem(0),this.storeTours.updateLastPageItem(0),this.storeTours.previousButton=!1)}};const zt=(0,m.Z)(Ut,[["render",ct]]);var Ot=zt;const St={class:"pl-5"},Ft=(0,i._)("h2",null,"Search",-1);function Rt(t,e,s,o,a,n){const l=(0,i.up)("TourListItem");return(0,i.wg)(),(0,i.iD)("div",St,[Ft,(0,i._)("div",null,[(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{type:"text",onFocus:e[0]||(e[0]=t=>a.searchText=null),"onUpdate:modelValue":e[1]||(e[1]=t=>a.searchText=t),placeholder:"Suchbegriff eingeben"},null,544),[[r.nr,a.searchText]])])]),(0,i._)("div",null,[(0,i._)("button",{type:"submit",onClick:e[2]||(e[2]=t=>n.doSearch()),class:"button button-search"},"Go")]),(0,i._)("p",null,(0,I.zw)(a.resultInfo),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.searchResultList,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t.id},[(0,i.Wm)(l,{tour:t,filteredTourList:a.tourlist},null,8,["tour","filteredTourList"])])))),128))])}var jt={name:"Search",components:{TourListItem:O},setup(){const t=d();return{storeTours:t}},data(){return{tourlist:[],searchResultList:[],searchText:"",resultInfo:""}},methods:{doSearch(){this.searchResultList=[],""!==this.searchText&&null!==this.searchText?(console.log("doSearch"),this.searchResultList=this.getObjects(this.tourlist,"",this.searchText),this.searchResultList&&(this.resultInfo=this.getResultInfo(this.searchResultList.length))):this.resultInfo="Bitte suchbegriff eingeben"},getObjects(t,e,s){let r=[];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&("object"==typeof t[o]?r=r.concat(this.getObjects(t[o],e,s)):o==e&&t[o]==s||o==e&&""==s?(r.push(t),console.log("BUMM")):-1!=t[o].toLowerCase().indexOf(s.toLowerCase())&&""==e&&-1==r.lastIndexOf(t)&&r.push(t));return r},getResultInfo(t){let e="Ergebnisse";return 1===t&&(e="Ergebnis"),t+" "+e+" für "+this.searchText}},created(){console.log("created"),this.storeTours.fetchTourlist().then((()=>{this.tourlist=this.storeTours.tourlistData}))}};const Ht=(0,m.Z)(jt,[["render",Rt]]);var Et=Ht;const Nt=[{path:"/",name:"home",component:R},{path:"/tourlist",name:"tour-list",component:Ot},{path:"/tour/:id",name:"tour-page",component:ht},{path:"/search",name:"tour-search",component:Et}],Wt=(0,f.p7)({history:(0,f.PO)("/"),routes:Nt});var At=Wt;const Yt=(0,o.WB)(),$t=(0,r.ri)(p);$t.use(Yt),$t.use(At),$t.mount("#app")}},e={};function s(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,r,o,i){if(!r){var a=1/0;for(h=0;h<t.length;h++){r=t[h][0],o=t[h][1],i=t[h][2];for(var n=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(s.O).every((function(t){return s.O[t](r[l])}))?r.splice(l--,1):(n=!1,i<a&&(a=i));if(n){t.splice(h--,1);var u=o();void 0!==u&&(e=u)}}return e}i=i||0;for(var h=t.length;h>0&&t[h-1][2]>i;h--)t[h]=t[h-1];t[h]=[r,o,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,i,a=r[0],n=r[1],l=r[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(l)var h=l(s)}for(e&&e(r);u<a.length;u++)i=a[u],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(h)},r=self["webpackChunkvue_hiking_tour_app_vue3"]=self["webpackChunkvue_hiking_tour_app_vue3"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(9580)}));r=s.O(r)})();
//# sourceMappingURL=app.d5a474df.js.map